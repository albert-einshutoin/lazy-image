# lazy-image vs sharp 徹底比較レポート

## 📋 目次
1. [基本情報](#基本情報)
2. [対応フォーマット](#対応フォーマット)
3. [画像操作機能](#画像操作機能)
4. [API設計](#api設計)
5. [パフォーマンス](#パフォーマンス)
6. [メモリ効率](#メモリ効率)
7. [セキュリティ](#セキュリティ)
8. [機能詳細比較](#機能詳細比較)
9. [まとめ](#まとめ)

---

## 基本情報

| 項目 | lazy-image | sharp |
|------|------------|-------|
| **言語** | Rust + NAPI-RS | C++ + libvips |
| **バージョン** | 0.5.4 | 0.34.5+ |
| **ライセンス** | MIT | Apache 2.0 |
| **Node.js要件** | >= 18 | >= 14 |
| **ビルド要件** | Rust 1.70+, nasm | C++コンパイラ, libvips |
| **パッケージサイズ** | 小さい（Rustバイナリ） | 大きい（libvips依存） |

---

## 対応フォーマット

### 入力フォーマット

| フォーマット | lazy-image | sharp | 備考 |
|-------------|------------|-------|------|
| **JPEG/JPG** | ✅ | ✅ | 両方対応 |
| **PNG** | ✅ | ✅ | 両方対応 |
| **WebP** | ✅ | ✅ | 両方対応 |
| **AVIF** | ❌ | ✅ | sharpは入力対応 |
| **TIFF** | ❌ | ✅ | sharpのみ |
| **GIF** | ❌ | ✅ | sharpのみ（アニメーション対応） |
| **SVG** | ❌ | ✅ | sharpのみ（ラスター化） |
| **HEIC/HEIF** | ❌ | ✅ | sharpのみ |
| **RAW (DNG, CR2等)** | ❌ | ✅ | sharpのみ |
| **BMP** | ❌ | ✅ | sharpのみ |
| **ICO** | ❌ | ✅ | sharpのみ |

### 出力フォーマット

| フォーマット | lazy-image | sharp | 備考 |
|-------------|------------|-------|------|
| **JPEG/JPG** | ✅ | ✅ | 両方対応（lazy-imageはmozjpeg使用） |
| **PNG** | ✅ | ✅ | 両方対応 |
| **WebP** | ✅ | ✅ | 両方対応 |
| **AVIF** | ✅ | ✅ | 両方対応（lazy-imageはravif使用） |
| **TIFF** | ❌ | ✅ | sharpのみ |
| **GIF** | ❌ | ✅ | sharpのみ |
| **SVG** | ❌ | ✅ | sharpのみ |
| **HEIC/HEIF** | ❌ | ✅ | sharpのみ |
| **RAW** | ❌ | ✅ | sharpのみ |

**評価**: sharpが圧倒的に多くのフォーマットに対応。lazy-imageは主要4フォーマット（JPEG, PNG, WebP, AVIF）に特化。

---

## 画像操作機能

### 基本操作

| 機能 | lazy-image | sharp | 実装詳細 |
|------|------------|-------|----------|
| **resize** | ✅ | ✅ | 両方対応。lazy-imageはSIMD加速（fast_image_resize） |
| **crop** | ✅ | ✅ | 両方対応 |
| **rotate** | ✅ | ✅ | lazy-image: 90/180/270度のみ。sharp: 任意角度対応 |
| **flipH/flipV** | ✅ | ✅ | 両方対応 |
| **grayscale** | ✅ | ✅ | 両方対応 |

### 色調整

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **brightness** | ✅ | ✅ | lazy-image: -100〜100。sharp: より細かい制御可能 |
| **contrast** | ✅ | ✅ | lazy-image: -100〜100。sharp: より細かい制御可能 |
| **saturation** | ❌ | ✅ | sharpのみ |
| **hue** | ❌ | ✅ | sharpのみ |
| **modulate** | ❌ | ✅ | sharpのみ（明るさ・彩度・色相を一度に調整） |
| **tint** | ❌ | ✅ | sharpのみ（色合い調整） |
| **gamma** | ❌ | ✅ | sharpのみ |
| **normalize** | ❌ | ✅ | sharpのみ（ヒストグラム正規化） |
| **linear** | ❌ | ✅ | sharpのみ（線形変換） |
| **recomb** | ❌ | ✅ | sharpのみ（カラーマトリックス変換） |

### フィルター・エフェクト

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **blur** | ❌ | ✅ | sharpのみ（ガウシアンブラー） |
| **sharpen** | ❌ | ✅ | sharpのみ |
| **median** | ❌ | ✅ | sharpのみ（ノイズ除去） |
| **threshold** | ❌ | ✅ | sharpのみ（2値化） |
| **negate** | ❌ | ✅ | sharpのみ（ネガティブ） |
| **clahe** | ❌ | ✅ | sharpのみ（コントラスト制限適応的ヒストグラム均等化） |

### 高度な操作

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **composite** | ❌ | ✅ | sharpのみ（画像合成・オーバーレイ） |
| **extractChannel** | ❌ | ✅ | sharpのみ（チャンネル抽出） |
| **joinChannel** | ❌ | ✅ | sharpのみ（チャンネル結合） |
| **removeAlpha** | ❌ | ✅ | sharpのみ |
| **ensureAlpha** | ❌ | ✅ | sharpのみ |
| **extend** | ❌ | ✅ | sharpのみ（画像拡張・パディング） |
| **trim** | ❌ | ✅ | sharpのみ（透明部分の自動トリミング） |
| **extract** | ❌ | ✅ | sharpのみ（メタデータ抽出） |
| **stats** | ❌ | ✅ | sharpのみ（統計情報取得） |

### メタデータ操作

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **EXIF読み取り** | ❌ | ✅ | sharpのみ |
| **EXIF書き込み** | ❌ | ✅ | sharpのみ |
| **ICCプロファイル保持** | ✅ | ✅ | 両方対応（lazy-imageはAVIF除く） |
| **ICCプロファイル変換** | ❌ | ✅ | sharpのみ |
| **メタデータ削除** | ❌ | ✅ | sharpのみ |

---

## API設計

### コンストラクタ

| 機能 | lazy-image | sharp |
|------|------------|-------|
| **from(buffer)** | ✅ | ✅ `sharp(buffer)` |
| **fromPath(path)** | ✅ | ✅ `sharp(path)` |
| **fromStream()** | ❌ | ✅ |
| **fromURL()** | ❌ | ✅ |

### 出力方法

| 機能 | lazy-image | sharp |
|------|------------|-------|
| **toBuffer()** | ✅ | ✅ |
| **toFile()** | ✅ | ✅ |
| **toStream()** | ❌ | ✅ |
| **pipe()** | ❌ | ✅ |

### メソッドチェーン

| 機能 | lazy-image | sharp |
|------|------------|-------|
| **Fluent API** | ✅ | ✅ |
| **Lazy Pipeline** | ✅ | ✅ |
| **clone()** | ✅ | ✅ |

### ユーティリティ

| 機能 | lazy-image | sharp |
|------|------------|-------|
| **inspect()** | ✅ | ✅ `metadata()` |
| **inspectFile()** | ✅ | ✅ |
| **dimensions()** | ✅ | ✅ |
| **hasIccProfile()** | ✅ | ❌ |

---

## パフォーマンス

### ファイルサイズ（圧縮効率）

| フォーマット | lazy-image | sharp | 優位性 |
|-------------|------------|-------|--------|
| **JPEG** | 86,761 bytes | 88,171 bytes | lazy-image: **-1.6%** ✅ |
| **WebP** | 111,334 bytes | 114,664 bytes | lazy-image: **-2.9%** ✅ |
| **AVIF** | 77,800 bytes | N/A | lazy-image: **次世代フォーマット** 🏆 |
| **複雑パイプライン** | 38,939 bytes | 44,516 bytes | lazy-image: **-12.5%** ✅ |

*テスト条件: 23MB PNG入力、800pxリサイズ、品質60-80*

### 処理速度

| 項目 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **JPEGデコード** | 高速（mozjpeg使用） | 高速（libjpeg-turbo） | ほぼ同等 |
| **リサイズ** | 高速（SIMD加速） | 高速（libvips SIMD） | ほぼ同等 |
| **エンコード** | 最適化済み | 最適化済み | ほぼ同等 |
| **メタデータ読み取り** | 高速（ヘッダーのみ） | 高速 | ほぼ同等 |

**評価**: 処理速度はほぼ同等。ファイルサイズはlazy-imageが優位。

---

## メモリ効率

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **fromPath()** | ✅ V8ヒープ回避 | ⚠️ 部分的 | lazy-imageは完全にV8ヒープを回避 |
| **toFile()** | ✅ V8ヒープ回避 | ⚠️ 部分的 | lazy-imageは完全にV8ヒープを回避 |
| **ストリーミング** | ❌ | ✅ | sharpのみ対応 |
| **メモリ制限** | ✅ 100MP制限 | ⚠️ 制限あり | lazy-imageは明示的な制限 |

**評価**: lazy-imageがメモリ効率で優位。特に大容量画像処理で有利。

---

## セキュリティ

| 機能 | lazy-image | sharp | 備考 |
|------|------------|-------|------|
| **Decompression bomb対策** | ✅ 明示的制限 | ⚠️ libvips依存 | lazy-image: MAX_DIMENSION=32768, MAX_PIXELS=100MP |
| **入力検証** | ✅ | ✅ | 両方対応 |
| **エラーハンドリング** | ✅ 構造化 | ✅ | 両方対応 |

**評価**: lazy-imageがセキュリティ対策で明示的。

---

## 機能詳細比較

### ✅ lazy-imageが優れている点

1. **ファイルサイズ**: mozjpeg + libwebp + ravifの最適化により、sharpより小さいファイルを生成
2. **メモリ効率**: `fromPath()`/`toFile()`で完全にV8ヒープを回避
3. **AVIF生成**: ネイティブAVIFサポート（ravif使用）
4. **セキュリティ**: 明示的なdecompression bomb対策
5. **パッケージサイズ**: Rustバイナリで軽量

### ✅ sharpが優れている点

1. **フォーマット対応**: 圧倒的に多くのフォーマットに対応（TIFF, GIF, SVG, HEIC等）
2. **機能の豊富さ**: 50+の操作機能（blur, sharpen, composite等）
3. **任意角度回転**: 90度刻み以外も対応
4. **ストリーミング**: ストリームI/O対応
5. **EXIF操作**: メタデータの読み書き対応
6. **成熟度**: 長年の実績とコミュニティサポート
7. **ドキュメント**: 非常に詳細な公式ドキュメント

### ❌ lazy-imageでできないこと

1. **TIFF/GIF/SVG/HEIC**: 入力・出力ともに未対応
2. **blur/sharpen**: フィルター系エフェクト未対応
3. **composite**: 画像合成・オーバーレイ未対応
4. **任意角度回転**: 90/180/270度のみ
5. **EXIF操作**: メタデータの読み書き未対応
6. **ストリーミング**: ストリームI/O未対応
7. **色調整の細かさ**: saturation, hue, gamma等の高度な色調整未対応
8. **trim/extend**: 自動トリミング・拡張未対応

### ❌ sharpでできないこと（lazy-imageは可能）

1. **完全なV8ヒープ回避**: `fromPath()`/`toFile()`での完全回避は不可
2. **AVIFの最適化**: lazy-imageの方がより小さいファイルサイズ（要検証）

---

## 使用ケース別推奨

### lazy-imageが適しているケース

- ✅ **Web向け画像最適化**: JPEG/PNG/WebP/AVIFの生成
- ✅ **バッチ処理**: 大量の画像をメモリ効率よく処理
- ✅ **CDN/配信**: ファイルサイズを最小化したい場合
- ✅ **メモリ制約環境**: 512MB以下のコンテナ環境
- ✅ **AVIF生成**: 次世代フォーマットの生成
- ✅ **ICCプロファイル保持**: 色空間の正確な保持が必要

### sharpが適しているケース

- ✅ **多様なフォーマット**: TIFF, GIF, SVG等の処理が必要
- ✅ **高度な画像編集**: blur, sharpen, composite等のエフェクト
- ✅ **EXIF操作**: メタデータの読み書きが必要
- ✅ **ストリーミング**: ストリームベースの処理
- ✅ **任意角度回転**: 90度刻み以外の回転が必要
- ✅ **成熟度重視**: 実績とコミュニティサポートが必要

---

## 詳細機能一覧（完全版）

### 画像操作メソッド完全リスト

| メソッド | lazy-image | sharp | 説明 |
|---------|------------|-------|------|
| **resize()** | ✅ | ✅ | リサイズ |
| **resize() - fit** | ❌ | ✅ | フィットモード（contain, cover, fill等） |
| **resize() - position** | ❌ | ✅ | リサイズ位置指定 |
| **resize() - kernel** | ❌ | ✅ | リサイズカーネル選択（lanczos3, nearest等） |
| **crop()** | ✅ | ✅ | クロップ |
| **crop() - gravity** | ❌ | ✅ | 重力ベースクロップ（center, north等） |
| **extract()** | ❌ | ✅ | 領域抽出（cropの別名） |
| **trim()** | ❌ | ✅ | 透明部分の自動トリミング |
| **extend()** | ❌ | ✅ | 画像拡張・パディング |
| **rotate()** | ✅ (90/180/270) | ✅ (任意角度) | 回転 |
| **flip()** | ✅ (flipH/flipV) | ✅ | 反転 |
| **flop()** | ✅ (flipH) | ✅ | 水平反転 |
| **sharpen()** | ❌ | ✅ | シャープ化 |
| **blur()** | ❌ | ✅ | ガウシアンブラー |
| **median()** | ❌ | ✅ | メディアンフィルター（ノイズ除去） |
| **threshold()** | ❌ | ✅ | 2値化 |
| **negate()** | ❌ | ✅ | ネガティブ |
| **normalise()** | ❌ | ✅ | 正規化（英式スペル） |
| **normalize()** | ❌ | ✅ | 正規化（米式スペル） |
| **clahe()** | ❌ | ✅ | コントラスト制限適応的ヒストグラム均等化 |
| **convolve()** | ❌ | ✅ | カスタム畳み込みカーネル |
| **recomb()** | ❌ | ✅ | カラーマトリックス変換 |
| **modulate()** | ❌ | ✅ | 明るさ・彩度・色相の一括調整 |
| **tint()** | ❌ | ✅ | 色合い調整 |
| **greyscale()** | ✅ (grayscale) | ✅ | グレースケール（英式スペル） |
| **grayscale()** | ✅ | ✅ | グレースケール（米式スペル） |
| **toColourspace()** | ❌ | ✅ | 色空間変換 |
| **toColorspace()** | ❌ | ✅ | 色空間変換（米式スペル） |
| **removeAlpha()** | ❌ | ✅ | アルファチャンネル削除 |
| **ensureAlpha()** | ❌ | ✅ | アルファチャンネル追加 |
| **extractChannel()** | ❌ | ✅ | チャンネル抽出 |
| **joinChannel()** | ❌ | ✅ | チャンネル結合 |
| **bandbool()** | ❌ | ✅ | チャンネル論理演算 |
| **composite()** | ❌ | ✅ | 画像合成・オーバーレイ |
| **gamma()** | ❌ | ✅ | ガンマ補正 |
| **linear()** | ❌ | ✅ | 線形変換 |
| **brightness()** | ✅ | ❌ | 明るさ調整（sharpはmodulate使用） |
| **contrast()** | ✅ | ❌ | コントラスト調整（sharpはmodulate使用） |
| **saturation()** | ❌ | ✅ | 彩度調整 |
| **hue()** | ❌ | ✅ | 色相調整 |

### メタデータ・情報取得

| メソッド | lazy-image | sharp | 説明 |
|---------|------------|-------|------|
| **metadata()** | ✅ (inspect) | ✅ | メタデータ取得 |
| **stats()** | ❌ | ✅ | 統計情報（平均色、標準偏差等） |
| **format()** | ✅ | ✅ | フォーマット情報 |
| **width/height** | ✅ (dimensions) | ✅ | サイズ情報 |
| **channels()** | ❌ | ✅ | チャンネル数 |
| **hasAlpha()** | ❌ | ✅ | アルファチャンネル有無 |
| **hasProfile()** | ✅ (hasIccProfile) | ✅ | ICCプロファイル有無 |
| **exif()** | ❌ | ✅ | EXIFデータ取得 |
| **iptc()** | ❌ | ✅ | IPTCデータ取得 |
| **xmp()** | ❌ | ✅ | XMPデータ取得 |
| **icc()** | ❌ | ✅ | ICCプロファイル取得 |

### 出力メソッド

| メソッド | lazy-image | sharp | 説明 |
|---------|------------|-------|------|
| **toBuffer()** | ✅ | ✅ | Buffer出力 |
| **toFile()** | ✅ | ✅ | ファイル出力 |
| **toStream()** | ❌ | ✅ | ストリーム出力 |
| **pipe()** | ❌ | ✅ | パイプ出力 |
| **jpeg()** | ✅ | ✅ | JPEG出力 |
| **png()** | ✅ | ✅ | PNG出力 |
| **webp()** | ✅ | ✅ | WebP出力 |
| **avif()** | ✅ | ✅ | AVIF出力 |
| **tiff()** | ❌ | ✅ | TIFF出力 |
| **gif()** | ❌ | ✅ | GIF出力 |
| **svg()** | ❌ | ✅ | SVG出力 |
| **heif()** | ❌ | ✅ | HEIF出力 |
| **raw()** | ❌ | ✅ | RAW出力 |

### 入力メソッド

| メソッド | lazy-image | sharp | 説明 |
|---------|------------|-------|------|
| **from(buffer)** | ✅ | ✅ | Bufferから読み込み |
| **fromPath(path)** | ✅ | ✅ | ファイルパスから読み込み |
| **fromStream()** | ❌ | ✅ | ストリームから読み込み |
| **fromURL()** | ❌ | ✅ | URLから読み込み |

### その他機能

| 機能 | lazy-image | sharp | 説明 |
|------|------------|-------|------|
| **clone()** | ✅ | ✅ | エンジン/インスタンスのクローン |
| **keepMetadata()** | ❌ | ✅ | メタデータ保持設定 |
| **withMetadata()** | ❌ | ✅ | メタデータ付与 |
| **removeMetadata()** | ❌ | ✅ | メタデータ削除 |
| **limitInputPixels()** | ✅ (MAX_PIXELS) | ✅ | 入力ピクセル数制限 |
| **sequentialRead()** | ❌ | ✅ | シーケンシャル読み込み |
| **tile()** | ❌ | ✅ | タイル出力（DeepZoom等） |
| **toFormat()** | ✅ | ✅ | フォーマット指定 |

---

## まとめ

### 機能カバレッジ

| カテゴリ | lazy-image | sharp | カバレッジ |
|---------|------------|-------|-----------|
| **基本操作** | 8/8 (100%) | 8/8 (100%) | ✅ 同等 |
| **色調整** | 2/9 (22%) | 9/9 (100%) | ❌ sharp優位 |
| **フィルター** | 0/6 (0%) | 6/6 (100%) | ❌ sharpのみ |
| **高度な操作** | 0/8 (0%) | 8/8 (100%) | ❌ sharpのみ |
| **フォーマット** | 4/10 (40%) | 10/10 (100%) | ❌ sharp優位 |
| **メタデータ** | 1/5 (20%) | 5/5 (100%) | ❌ sharp優位 |
| **入力方法** | 2/4 (50%) | 4/4 (100%) | ❌ sharp優位 |
| **出力方法** | 2/4 (50%) | 4/4 (100%) | ❌ sharp優位 |
| **総合** | **19/54 (35%)** | **54/54 (100%)** | ❌ sharpが圧倒的 |

### 結論

**lazy-image**は、**特定の用途（Web向け画像最適化）に特化した高性能ライブラリ**です。

**強み**:
- ✅ ファイルサイズの最適化（sharpより1.6-12.5%小さい）
- ✅ メモリ効率（V8ヒープ完全回避）
- ✅ AVIF生成（ravif使用）
- ✅ セキュリティ対策（明示的な制限）
- ✅ パッケージサイズ（Rustバイナリで軽量）
- ✅ ICCプロファイル保持（JPEG/PNG/WebP）

**弱み**:
- ❌ 機能の少なさ（sharpの35%程度）
- ❌ フォーマット対応の少なさ（4フォーマットのみ）
- ❌ 高度な画像編集機能の欠如（blur, sharpen, composite等）
- ❌ 任意角度回転不可（90/180/270度のみ）
- ❌ EXIF操作不可
- ❌ ストリーミング対応なし

**sharp**は、**汎用的で多機能な画像処理ライブラリ**です。

**強み**:
- ✅ 圧倒的な機能数（50+操作）
- ✅ 多様なフォーマット対応（10+フォーマット）
- ✅ 成熟度とコミュニティ（長年の実績）
- ✅ ストリーミング対応
- ✅ EXIF操作対応
- ✅ 任意角度回転対応
- ✅ 豊富なフィルター・エフェクト

**弱み**:
- ⚠️ ファイルサイズ（lazy-imageより大きい）
- ⚠️ メモリ効率（V8ヒープ使用、完全回避不可）
- ⚠️ パッケージサイズ（libvips依存で大きい）

### 機能実装状況サマリー

#### lazy-image実装済み（19機能）
1. ✅ resize
2. ✅ crop
3. ✅ rotate (90/180/270度)
4. ✅ flipH/flipV
5. ✅ grayscale
6. ✅ brightness
7. ✅ contrast
8. ✅ toBuffer
9. ✅ toFile
10. ✅ from(buffer)
11. ✅ fromPath(path)
12. ✅ clone
13. ✅ inspect/inspectFile
14. ✅ dimensions
15. ✅ hasIccProfile
16. ✅ JPEG出力
17. ✅ PNG出力
18. ✅ WebP出力
19. ✅ AVIF出力

#### lazy-image未実装（35機能）
1. ❌ blur
2. ❌ sharpen
3. ❌ median
4. ❌ threshold
5. ❌ negate
6. ❌ normalize
7. ❌ clahe
8. ❌ convolve
9. ❌ recomb
10. ❌ modulate
11. ❌ tint
12. ❌ saturation
13. ❌ hue
14. ❌ gamma
15. ❌ linear
16. ❌ composite
17. ❌ extractChannel
18. ❌ joinChannel
19. ❌ removeAlpha
20. ❌ ensureAlpha
21. ❌ extend
22. ❌ trim
23. ❌ stats
24. ❌ EXIF操作
25. ❌ IPTC操作
26. ❌ XMP操作
27. ❌ toStream
28. ❌ pipe
29. ❌ fromStream
30. ❌ fromURL
31. ❌ TIFF/GIF/SVG/HEIC対応
32. ❌ 任意角度回転
33. ❌ resize fit/position/kernel
34. ❌ crop gravity
35. ❌ メタデータ操作

### 推奨

#### lazy-imageを選ぶべきケース
- ✅ **Web向け画像最適化**: JPEG/PNG/WebP/AVIFの生成
- ✅ **バッチ処理**: 大量の画像をメモリ効率よく処理
- ✅ **CDN/配信**: ファイルサイズを最小化したい場合
- ✅ **メモリ制約環境**: 512MB以下のコンテナ環境
- ✅ **AVIF生成**: 次世代フォーマットの生成
- ✅ **ICCプロファイル保持**: 色空間の正確な保持が必要
- ✅ **シンプルな操作**: resize, crop, rotate, grayscale等の基本操作のみ

#### sharpを選ぶべきケース
- ✅ **多様なフォーマット**: TIFF, GIF, SVG, HEIC等の処理が必要
- ✅ **高度な画像編集**: blur, sharpen, composite等のエフェクト
- ✅ **EXIF操作**: メタデータの読み書きが必要
- ✅ **ストリーミング**: ストリームベースの処理
- ✅ **任意角度回転**: 90度刻み以外の回転が必要
- ✅ **成熟度重視**: 実績とコミュニティサポートが必要
- ✅ **汎用性**: 様々な用途に対応できる多機能ライブラリが必要

### 最終評価

| 評価項目 | lazy-image | sharp | 勝者 |
|---------|------------|-------|------|
| **機能数** | 19機能 | 54機能 | 🏆 sharp |
| **フォーマット対応** | 4フォーマット | 10+フォーマット | 🏆 sharp |
| **ファイルサイズ** | 小さい | やや大きい | 🏆 lazy-image |
| **メモリ効率** | 優秀（V8回避） | 良好 | 🏆 lazy-image |
| **処理速度** | 高速 | 高速 | 🤝 同等 |
| **セキュリティ** | 明示的制限 | libvips依存 | 🏆 lazy-image |
| **成熟度** | 新規 | 成熟 | 🏆 sharp |
| **ドキュメント** | 良好 | 優秀 | 🏆 sharp |
| **コミュニティ** | 小規模 | 大規模 | 🏆 sharp |

**総合評価**: 
- **lazy-image**: ⭐⭐⭐⭐ (4/5) - 特定用途に特化した高性能ライブラリ
- **sharp**: ⭐⭐⭐⭐⭐ (5/5) - 汎用的で多機能な成熟ライブラリ

両者は**補完関係**にあり、用途に応じて使い分けるのが最適です。

